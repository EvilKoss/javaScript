<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Davinchi</title>
	<style type = "text/css">
		.board{
			width:900px;
			height:900px;
			background-color:yellow;
			display:grid;
			grid-auto-columns: 1px;
			grid-auto-rows: 1px;
			grid-gap: 0px;
			position:absolute;
			grid-row:1;
			grid-column:1;
		}

		.kvadrat_red{
			width:1px;
			height:1px;
			background-color:rgba(255,0,0,0.5);
			position:relative;
		}
		.kvadratBlack{
			width:1px;
			height:1px;
			background-color:black;
			position:relative;
		}
	</style>
</head>
<body>
	<input type = "button" onclick="change()" value = "button"/>
	<div class="board" id="board"></div>
	<script type="text/javascript">
		var timervar = setInterval(change,1);
		const x = 450;
		const y = 5;
		const x1 = 10;
		const y1 = 890;
		const x2 = 890;
		const y2 = 890;
		let pointx = Math.floor(Math.random() * 180);
		let pointy = Math.floor(Math.random() * 180);
		const str = `<div class="kvadratBlack" style = "grid-row: ${y}; grid-column: ${x};"></div>`;
		const str1 = `<div class="kvadratBlack" style = "grid-row: ${y1}; grid-column: ${x1};"></div>`;
		const str2 = `<div class="kvadratBlack" style = "grid-row: ${y2}; grid-column: ${x2};"></div>`;
		const strPoint = `<div class="kvadrat_red" style = "grid-row: ${pointy}; grid-column: ${pointx};"></div>`;
		document.getElementById("board").innerHTML += str;
		document.getElementById("board").innerHTML += str1;
		document.getElementById("board").innerHTML += str2;
		document.getElementById("board").innerHTML += strPoint;
		function change(){
			const point = Math.floor(Math.random() * 6+1);
			if(point == 1 || point == 2){
				pointy = (pointy + y) / 2;
				pointx = (pointx + x) / 2;
			}
			else if(point == 3 || point == 4){
				pointy = (pointy + y1) / 2;
				pointx = (pointx + x1) / 2;
			}
			else if(point == 5 || point == 6){
				pointy = (pointy + y2) / 2;
				pointx = (pointx + x2) / 2;
			}
			while(pointy % 1 != 0){
				pointy += 0.5;
			}
			while(pointx % 1 != 0){
				pointx += 0.5;
			}
			document.getElementById("board").innerHTML += `<div class="kvadratBlack" style="grid-row:${pointy}; grid-column:${pointx};"></div>`;
		}
	</script>
</body>
</html>
